"use strict";(self["webpackChunkbylights"]=self["webpackChunkbylights"]||[]).push([[327],{4327:function(e,a,l){l.r(a),l.d(a,{default:function(){return y}});var s=l(6768),t=l(5130),n=l(4232);const r=e=>((0,s.Qi)("data-v-79964ea3"),e=e(),(0,s.jt)(),e),o=r((()=>(0,s.Lk)("section",null,[(0,s.Lk)("h1",null,"SIGN UP")],-1))),i=r((()=>(0,s.Lk)("label",null,"Email:",-1))),u=r((()=>(0,s.Lk)("label",null,"Password",-1))),d={key:0,class:"error"},p=r((()=>(0,s.Lk)("p",null,"Don't have an account? ",-1))),c=r((()=>(0,s.Lk)("p",{class:"RegisterLink"},"Register",-1))),m={class:"submit"},v=["disabled"];function b(e,a,l,r,b,h){const k=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("form",{onSubmit:a[3]||(a[3]=(0,t.D$)(((...e)=>r.handleSubmit&&r.handleSubmit(...e)),["prevent"]))},[o,(0,s.Lk)("section",null,[i,(0,s.bo)((0,s.Lk)("input",{type:"email",required:"","onUpdate:modelValue":a[0]||(a[0]=e=>r.email=e),onInvalid:a[1]||(a[1]=(0,t.D$)((()=>{}),["prevent"]))},null,544),[[t.Jo,r.email]]),u,(0,s.bo)((0,s.Lk)("input",{type:"password",required:"","onUpdate:modelValue":a[2]||(a[2]=e=>r.password=e)},null,512),[[t.Jo,r.password]]),r.passwordError?((0,s.uX)(),(0,s.CE)("div",d,(0,n.v_)(r.passwordError),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[p,(0,s.bF)(k,{to:{name:"RegisterFormView"}},{default:(0,s.k6)((()=>[c])),_:1})])]),(0,s.Lk)("div",m,[(0,s.Lk)("button",{disabled:!r.isFormValid},"Sign up",8,v)])],32)])}l(4114);var h=l(144),k=l(4373),w=l(1387),g={name:"SignupFormView",setup(){const e=(0,h.KR)(""),a=(0,h.KR)(""),l=(0,h.KR)(""),t=(0,w.rd)(),n=(0,s.EW)((()=>""!==e.value.trim()&&e.value.includes("@")&&""!==e.value.split("@")[1]?.trim()&&a.value&&a.value.length>=6));(0,s.wB)(a,(e=>{e&&e.length<6?l.value="Password must be at least 6 characters long":l.value=""}));const r=async()=>{if(n.value){const s={email:e.value,password:a.value};try{const e=await k.A.post("http://localhost/tirocinio/crowdsensing-web-app/bylights/src/db/api/login.php",s,{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});e.data.success?t.push("/mapView"):console.log("errore nel login response.data:",e.data)}catch(l){console.error("Errore durante la richiesta al backend: ",l)}}};return{email:e,password:a,passwordError:l,handleSubmit:r,isFormValid:n}}},L=l(1241);const f=(0,L.A)(g,[["render",b],["__scopeId","data-v-79964ea3"]]);var y=f}}]);
//# sourceMappingURL=327.6e1a2c3c.js.map