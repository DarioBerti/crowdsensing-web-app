{"version":3,"file":"js/70.daca14db.js","mappings":"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","sources":["webpack://bylights/./src/views/RegisterFormView.vue","webpack://bylights/./src/views/RegisterFormView.vue?73e0"],"sourcesContent":["<template>\n    <div>\n        <form @submit.prevent=\"handleSubmit\">\n            <p><a id=\"style-2\" @click=\"back\" class=\"back\" data-replace=\"go back\"><span>go back</span></a></p>\n            \n            <!-- <div>\n                <router-link to=\"/badges\"><p class=\"RoutingLink\">Badges page</p></router-link>\n            </div> -->\n            <h1>REGISTER</h1>\n            <section>\n                <label>Nome:</label>\n                <input type=\"text\" required v-model=\"name\">\n                <label>Cognome:</label>\n                <input type=\"text\" required v-model=\"surname\">\n                <label>Username:</label>\n                <input type=\"text\" required v-model=\"username\">\n                <label>Email:</label>\n                <!--mette @invalid.prevent=\"\"/ per non mostrare graficamente il messaggio di errore in input sbagliato, ma comunque c'è la validazione-->\n                <input type=\"email\" required v-model=\"email\" @invalid.prevent=\"\"/>\n                <label>Password</label>\n                <input type=\"password\" required v-model=\"password\">\n                <div v-if=\"passwordError\" class=\"error\">\n                    {{ passwordError }}\n                </div>\n                <div>\n                    <p>Already have an account?</p>\n                    <router-link to=\"/\"><p class=\"RoutingLink\">Sign up</p></router-link>\n                </div>\n            </section>\n            <div class=\"submit\">\n                <button :disabled=\"!isFormValid\">Register</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport { ref, computed, watch} from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\n\nexport default{\n    name: 'RegisterFormView',\n    setup(){\n        const email = ref('')\n        const password = ref('')\n        const username = ref('')\n        const name = ref('')\n        const surname = ref('')\n        const passwordError = ref('')\n        const router = useRouter()\n\n        const back = () => {\n            router.go(-1)\n        }\n        \n        //controlla se il form ha campi nulli\n        const isFormValid = computed(() => {\n            return (\n                name.value.trim() !== '' &&\n                surname.value.trim() !== '' &&\n                username.value.trim() !== '' &&\n                email.value.trim() !== '' &&\n                email.value.includes('@') &&\n                email.value.split('@')[1]?.trim() !== '' &&\n                //il controllo è sequenziale, prima controlla se nulla, poi ne controlla la lunghezza\n                password.value && password.value.length >= 6\n            )\n        })\n\n        // //display messaggio errore password in tempo reale con watch\n        watch(password, (newPassword) => {\n            if (newPassword && newPassword.length < 6) {\n                passwordError.value = 'Password must be at least 6 characters long';\n            } else {\n                passwordError.value = '';\n            }\n        })\n       \n        //invio dati al database\n        const handleSubmit = async() => {\n            if (isFormValid.value) {\n                //dati di login\n                const loginData = {\n                    name: name.value,\n                    surname: surname.value,\n                    username: username.value,\n                    email: email.value,\n                    password: password.value\n                };\n                \n                try {\n                    //richiesta a file endpoint php\n                    const response = await axios.post(`http://localhost/tirocinio/crowdsensing-web-app/bylights/src/db/api/register.php`, loginData, {\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'Accept': 'application/json'\n                        },\n                        withCredentials: true\n                    });\n                    \n                    if (response.data.success) {\n                        //gestire login dati sessione e reindirizzamento\n                        //va al login\n                        router.push('/');\n                    } else {\n                        // login fallito\n                        console.log(\"errore nel register response.data:\", response.data);\n                        \n                        //gestire registrazione fallita\n                        //AGGIUNGERE MESSAGGIO DI FALLITO REGISTRAZIONE\n                    }\n                } catch (error) {\n                    console.error(\"Errore durante la richiesta al backend: \", error);\n                }\n            }\n        }\n\n        return{\n            name,\n            surname,\n            username,\n            email,\n            password,\n            passwordError,\n            handleSubmit,\n            back,\n            isFormValid\n        }\n    }\n}\n</script>\n\n<style scoped>\n    form {\n        font-family: Avenir, Helvetica, Arial, sans-serif;\n        max-width: 420px;\n        margin: 30px auto;\n        background:white;\n        text-align: left;\n        padding: 40px;\n        border-radius: 10px;\n    }\n    label, p{\n        color: #aaa;\n        display: inline-block;\n        margin: 25px 0 15px;\n        font-size: 0.6em;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n        font-weight: bold;\n    }\n    input{\n        display: block;\n        padding: 10px 6px;\n        width: 100%;\n        box-sizing: border-box;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        color: #555;\n    }\n    h1{\n        color: #555;\n    }\n    .RoutingLink{\n        color: red;\n        margin-left: 3%;\n    }\n    .RoutingLink:hover{\n         text-decoration: underline;\n         text-decoration-color: #ff0062;\n    }\n    .submit {\n        text-align: center;\n    }\n    button {\n        background: #0b6dff;\n        border: 0;\n        padding: 10px 20px;\n        margin-top: 20px;\n        color: white;\n        border-radius: 20px;\n    }\n    .error {\n        color: #ff0062;\n        margin-top: 10px;\n        font-size: 0.8em;\n        font-weight: bold;\n    }\n\n    button:disabled{\n        background: #ccc; /* Colore grigio per indicare che è disabilitato */\n        cursor: not-allowed;\n        opacity: 0.6;\n    }\n    \n    .back {\n        overflow: hidden;\n        position: relative;\n        display: inline-block;\n        text-decoration: none;\n        font-size:10px;\n        color: #555;\n        font-weight: bolder;\n    }\n    .back::before,\n    .back::after{\n        content: '';\n        position: absolute;\n        width: 100%;\n        left: 0;\n        }\n    .back::before {\n      background-color: #54b3d6;\n      height: 2px;\n      bottom: 0;\n      transform-origin: 100% 50%;\n      transform: scaleX(0);\n      transition: transform .3s cubic-bezier(0.76, 0, 0.24, 1);\n    }\n    .back::after {\n      content: attr(data-replace);\n      height: 100%;\n      top: 0;\n      transform-origin: 100% 50%;\n      transform: translate3d(200%, 0, 0);\n      transition: transform .3s cubic-bezier(0.76, 0, 0.24, 1);\n      color: #54b3d6;\n    }\n\n    .back:hover::before {\n      transform-origin: 0% 50%;\n      transform: scaleX(1);\n    }\n    .back:hover::after {\n      transform: translate3d(0, 0, 0);\n    }\n\n    .back span {\n      display: inline-block;\n      transition: transform .3s cubic-bezier(0.76, 0, 0.24, 1);\n    }\n    .back:hover span{\n        transform: translate3d(-200%, 0, 0);\n    }\n</style>","import { render } from \"./RegisterFormView.vue?vue&type=template&id=f3345d4c&scoped=true\"\nimport script from \"./RegisterFormView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterFormView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterFormView.vue?vue&type=style&index=0&id=f3345d4c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f3345d4c\"]])\n\nexport default __exports__"],"names":["_createElementVNode","_hoisted_1","key","class","_createElementBlock","onSubmit","_cache","_withModifiers","args","$setup","handleSubmit","id","onClick","back","_hoisted_2","_hoisted_3","_hoisted_4","type","required","$event","name","_hoisted_5","surname","_hoisted_6","username","_hoisted_7","email","onInvalid","_hoisted_8","password","passwordError","_hoisted_9","_toDisplayString","_createCommentVNode","_hoisted_10","_createVNode","_component_router_link","to","default","_withCtx","_hoisted_11","_","_hoisted_12","disabled","isFormValid","_hoisted_13","setup","ref","router","useRouter","go","computed","value","trim","includes","split","length","watch","newPassword","async","loginData","response","axios","post","headers","withCredentials","data","success","push","console","log","error","__exports__","render"],"sourceRoot":""}