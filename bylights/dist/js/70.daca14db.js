"use strict";(self["webpackChunkbylights"]=self["webpackChunkbylights"]||[]).push([[70],{3070:function(e,a,l){l.r(a),l.d(a,{default:function(){return K}});var n=l(6768),t=l(5130),r=l(4232);const s=e=>((0,n.Qi)("data-v-f3345d4c"),e=e(),(0,n.jt)(),e),u=s((()=>(0,n.Lk)("span",null,"go back",-1))),o=[u],i=s((()=>(0,n.Lk)("h1",null,"REGISTER",-1))),d=s((()=>(0,n.Lk)("label",null,"Nome:",-1))),p=s((()=>(0,n.Lk)("label",null,"Cognome:",-1))),c=s((()=>(0,n.Lk)("label",null,"Username:",-1))),m=s((()=>(0,n.Lk)("label",null,"Email:",-1))),k=s((()=>(0,n.Lk)("label",null,"Password",-1))),b={key:0,class:"error"},v=s((()=>(0,n.Lk)("p",null,"Already have an account?",-1))),h=s((()=>(0,n.Lk)("p",{class:"RoutingLink"},"Sign up",-1))),L={class:"submit"},g=["disabled"];function w(e,a,l,s,u,w){const y=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("form",{onSubmit:a[7]||(a[7]=(0,t.D$)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[(0,n.Lk)("p",null,[(0,n.Lk)("a",{id:"style-2",onClick:a[0]||(a[0]=(...e)=>s.back&&s.back(...e)),class:"back","data-replace":"go back"},o)]),i,(0,n.Lk)("section",null,[d,(0,n.bo)((0,n.Lk)("input",{type:"text",required:"","onUpdate:modelValue":a[1]||(a[1]=e=>s.name=e)},null,512),[[t.Jo,s.name]]),p,(0,n.bo)((0,n.Lk)("input",{type:"text",required:"","onUpdate:modelValue":a[2]||(a[2]=e=>s.surname=e)},null,512),[[t.Jo,s.surname]]),c,(0,n.bo)((0,n.Lk)("input",{type:"text",required:"","onUpdate:modelValue":a[3]||(a[3]=e=>s.username=e)},null,512),[[t.Jo,s.username]]),m,(0,n.bo)((0,n.Lk)("input",{type:"email",required:"","onUpdate:modelValue":a[4]||(a[4]=e=>s.email=e),onInvalid:a[5]||(a[5]=(0,t.D$)((()=>{}),["prevent"]))},null,544),[[t.Jo,s.email]]),k,(0,n.bo)((0,n.Lk)("input",{type:"password",required:"","onUpdate:modelValue":a[6]||(a[6]=e=>s.password=e)},null,512),[[t.Jo,s.password]]),s.passwordError?((0,n.uX)(),(0,n.CE)("div",b,(0,r.v_)(s.passwordError),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",null,[v,(0,n.bF)(y,{to:"/"},{default:(0,n.k6)((()=>[h])),_:1})])]),(0,n.Lk)("div",L,[(0,n.Lk)("button",{disabled:!s.isFormValid},"Register",8,g)])],32)])}l(4114);var y=l(144),f=l(1387),R=l(4373),E={name:"RegisterFormView",setup(){const e=(0,y.KR)(""),a=(0,y.KR)(""),l=(0,y.KR)(""),t=(0,y.KR)(""),r=(0,y.KR)(""),s=(0,y.KR)(""),u=(0,f.rd)(),o=()=>{u.go(-1)},i=(0,n.EW)((()=>""!==t.value.trim()&&""!==r.value.trim()&&""!==l.value.trim()&&""!==e.value.trim()&&e.value.includes("@")&&""!==e.value.split("@")[1]?.trim()&&a.value&&a.value.length>=6));(0,n.wB)(a,(e=>{e&&e.length<6?s.value="Password must be at least 6 characters long":s.value=""}));const d=async()=>{if(i.value){const s={name:t.value,surname:r.value,username:l.value,email:e.value,password:a.value};try{const e=await R.A.post("http://localhost/tirocinio/crowdsensing-web-app/bylights/src/db/api/register.php",s,{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});e.data.success?u.push("/"):console.log("errore nel register response.data:",e.data)}catch(n){console.error("Errore durante la richiesta al backend: ",n)}}};return{name:t,surname:r,username:l,email:e,password:a,passwordError:s,handleSubmit:d,back:o,isFormValid:i}}},C=l(1241);const V=(0,C.A)(E,[["render",w],["__scopeId","data-v-f3345d4c"]]);var K=V}}]);
//# sourceMappingURL=70.daca14db.js.map