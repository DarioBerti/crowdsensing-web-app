"use strict";(self["webpackChunkbylights"]=self["webpackChunkbylights"]||[]).push([[587],{2008:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var a=s(6768),r=s(4232);const l=e=>((0,a.Qi)("data-v-5815b1b8"),e=e(),(0,a.jt)(),e),i={class:"saved-paths-popup"},n={key:0},c={key:1},o={class:"path-list"},h={class:"name-path",style:{"text-align":"left"}},u={class:"icon-and-percentage"},d={class:"lamp-icon"},p=["src"],g={key:2},v=l((()=>(0,a.Lk)("p",null,"Caricamento dei dati...",-1))),k=[v];function b(e,t,s,l,v,b){return(0,a.uX)(),(0,a.CE)("div",i,[l.error?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("p",null,"Error: "+(0,r.v_)(l.error),1)])):!1===l.error?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",o,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.ListPaths,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:e.path_id,class:"path-item"},[(0,a.Lk)("div",h,[(0,a.Lk)("p",null,"Path "+(0,r.v_)(t+1),1)]),(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.Lk)("img",{src:l.streetLightIcon,alt:"street light icon",class:"street-light"},null,8,p)]),(0,a.Lk)("p",{style:(0,r.Tr)({color:l.getColor(l.calculateBrightness(e.brightness))})},(0,r.v_)(l.calculateBrightness(e.brightness))+" % ",5)])])))),128))])])):((0,a.uX)(),(0,a.CE)("div",g,k))])}s(4114);var L=s(144),m=s(4373),C=s(1387),y=s.p+"img/street-light-icon.ad8c2e17.svg",f={name:"SavedPathsView",setup(){const e=(0,L.KR)(null),t=(0,C.rd)(),s=(0,L.KR)([]),r=async()=>{m.A.get("http://localhost/tirocinio/crowdsensing-web-app/bylights/src/db/api/SavedPaths.php",{withCredentials:!0}).then((a=>{console.log("Response data:",a.data),a.data.success?(e.value=!1,s.value=a.data.paths):(e.value=!0,console.log("Error message from server:",a.data.message),t.push("/mapView"))})).catch((()=>{e.value=!0,console.log("errore catch"),t.push("/mapView")}))},l=e=>{let t=270;return Math.floor(100*e/t)},i=e=>e>=0&&e<30?"red":e>=30&&e<60?"orange":e>=60&&e<=100?"green":"black";return(0,a.sV)((()=>{r()})),{error:e,getPathsId:r,ListPaths:s,streetLightIcon:y,calculateBrightness:l,getColor:i}}},w=s(1241);const E=(0,w.A)(f,[["render",b],["__scopeId","data-v-5815b1b8"]]);var P=E}}]);
//# sourceMappingURL=587.01761d72.js.map