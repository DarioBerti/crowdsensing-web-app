{"version":3,"file":"js/327.6e1a2c3c.js","mappings":"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","sources":["webpack://bylights/./src/views/SignupFormView.vue","webpack://bylights/./src/views/SignupFormView.vue?0154"],"sourcesContent":["<template>\n    <div>\n        <!--calls function 'handleSubmit' and does not reload the page-->\n        <form @submit.prevent=\"handleSubmit\">\n            <section>\n                <h1>SIGN UP</h1>\n            </section>\n            <section>\n                <label>Email:</label>\n                <!--v-model tracks user input real-time-->\n                <input type=\"email\" required v-model=\"email\" @invalid.prevent=\"\"/>\n                <label>Password</label>\n                <input type=\"password\" required v-model=\"password\">\n                <div v-if=\"passwordError\" class=\"error\">\n                    {{ passwordError }}\n                </div>\n                <div>\n                    <p>Don't have an account?  </p>\n                    <router-link :to=\"{ name: 'RegisterFormView'}\"><p class=\"RegisterLink\">Register</p></router-link>\n                </div>\n            </section>\n            <div class=\"submit\">\n                <button :disabled=\"!isFormValid\">Sign up</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport { ref, computed, watch} from 'vue'\nimport axios from 'axios'\nimport { useRouter } from 'vue-router'\n\nexport default{\n    name: 'SignupFormView',\n    setup(){\n        const email = ref('')\n        const password = ref('')\n        const passwordError = ref('')\n        const router = useRouter()\n\n        const isFormValid = computed( () => {\n            return (\n                email.value.trim() !== '' &&\n                email.value.includes('@') &&\n                email.value.split('@')[1]?.trim() !== '' &&\n                password.value && password.value.length >= 6\n            )\n        })\n\n        //display messaggio errore password in tempo reale con watch\n        watch(password, (newPassword) => {\n            if (newPassword && newPassword.length < 6) {\n                passwordError.value = 'Password must be at least 6 characters long';\n            } else {\n                passwordError.value = '';\n            }\n        })\n\n        //invio dati al database\n        const handleSubmit = async() => {\n            if (isFormValid.value) {\n                //dati di login\n                const loginData = {\n                    email: email.value,\n                    password: password.value\n                };\n                \n                try {\n                    //richiesta a file endpoint php\n                    const response = await axios.post(`http://localhost/tirocinio/crowdsensing-web-app/bylights/src/db/api/login.php`, loginData, {\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'Accept': 'application/json'\n                        },\n                        withCredentials: true\n                    });\n                    \n                    if (response.data.success) {\n                        //gestire login dati sessione e reindirizzamento\n                        router.push('/mapView');\n                    } else {\n                        // login fallito\n                        console.log(\"errore nel login response.data:\", response.data);\n                        \n                        //gestire login fallito\n                        //AGGIUNGERE MESSAGGIO DI FALLITO LOGIN\n                    }\n                } catch (error) {\n                    console.error(\"Errore durante la richiesta al backend: \", error);\n                    // window.location.reload();\n                }\n            }\n        }\n\n        return{\n            email,\n            password,\n            passwordError,\n            handleSubmit,\n            isFormValid\n        }\n    }\n}\n</script>\n\n<style scoped>\n    form {\n        font-family: Avenir, Helvetica, Arial, sans-serif;\n        max-width: 420px;\n        margin: 30px auto;\n        background:white;\n        text-align: left;\n        padding: 40px;\n        border-radius: 10px;\n    }\n    label, p{\n        color: #aaa;\n        display: inline-block;\n        margin: 25px 0 15px;\n        font-size: 0.6em;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n        font-weight: bold;\n    }\n    input{\n        display: block;\n        padding: 10px 6px;\n        width: 100%;\n        box-sizing: border-box;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        color: #555;\n    }\n    .RegisterLink{\n        color: red;\n        margin-left: 3%;\n    }\n    .RegisterLink:hover{\n         text-decoration: underline;\n         text-decoration-color: #ff0062;\n    }\n    h1{\n        color: #555;\n    }\n    button {\n        background: #0b6dff;\n        border: 0;\n        padding: 10px 20px;\n        margin-top: 20px;\n        color: white;\n        border-radius: 20px;\n    }\n    .submit {\n        text-align: center;\n    }\n    .error {\n        color: #ff0062;\n        margin-top: 10px;\n        font-size: 0.8em;\n        font-weight: bold;\n    }\n\n    button:disabled{\n        background: #ccc; /* Colore grigio per indicare che è disabilitato */\n        cursor: not-allowed; /* Mostra un'icona di divieto */\n        opacity: 0.6; /* Rende il bottone più trasparente */\n    }\n</style>","import { render } from \"./SignupFormView.vue?vue&type=template&id=79964ea3&scoped=true\"\nimport script from \"./SignupFormView.vue?vue&type=script&lang=js\"\nexport * from \"./SignupFormView.vue?vue&type=script&lang=js\"\n\nimport \"./SignupFormView.vue?vue&type=style&index=0&id=79964ea3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-79964ea3\"]])\n\nexport default __exports__"],"names":["_createElementVNode","key","class","_createElementBlock","onSubmit","_cache","_withModifiers","args","$setup","handleSubmit","_hoisted_1","_hoisted_2","type","required","$event","email","onInvalid","_hoisted_3","password","passwordError","_hoisted_4","_toDisplayString","_createCommentVNode","_hoisted_5","_createVNode","_component_router_link","to","name","default","_withCtx","_hoisted_6","_","_hoisted_7","disabled","isFormValid","_hoisted_8","setup","ref","router","useRouter","computed","value","trim","includes","split","length","watch","newPassword","async","loginData","response","axios","post","headers","withCredentials","data","success","push","console","log","error","__exports__","render"],"sourceRoot":""}